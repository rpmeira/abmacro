<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Macroeconomia Baseada em Agentes: Modelo - Informações Imperfeitas para Consumidor</title>

<meta property="description" itemprop="description" content="Este post apresenta uma versão em LSD de um modelo que analisa a escolha, por produtos, de consumidores em um mercado com informações imperfeitas."/>

<link rel="canonical" href="https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/"/>

<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-02-10"/>
<meta property="article:created" itemprop="dateCreated" content="2021-02-10"/>
<meta name="article:author" content="Rafael Peixoto"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Macroeconomia Baseada em Agentes: Modelo - Informações Imperfeitas para Consumidor"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="Este post apresenta uma versão em LSD de um modelo que analisa a escolha, por produtos, de consumidores em um mercado com informações imperfeitas."/>
<meta property="og:url" content="https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/"/>
<meta property="og:image" content="https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/infoimperf_files/figure-html5/unnamed-chunk-2-1.png"/>
<meta property="og:image:width" content="802"/>
<meta property="og:image:height" content="729"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Macroeconomia Baseada em Agentes"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary_large_image"/>
<meta property="twitter:title" content="Macroeconomia Baseada em Agentes: Modelo - Informações Imperfeitas para Consumidor"/>
<meta property="twitter:description" content="Este post apresenta uma versão em LSD de um modelo que analisa a escolha, por produtos, de consumidores em um mercado com informações imperfeitas."/>
<meta property="twitter:url" content="https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/"/>
<meta property="twitter:image" content="https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/infoimperf_files/figure-html5/unnamed-chunk-2-1.png"/>
<meta property="twitter:image:width" content="802"/>
<meta property="twitter:image:height" content="729"/>

<!--  https://scholar.google.com/intl/en/scholar/inclusion.html#indexing -->
<meta name="citation_title" content="Macroeconomia Baseada em Agentes: Modelo - Informações Imperfeitas para Consumidor"/>
<meta name="citation_fulltext_html_url" content="https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/"/>
<meta name="citation_online_date" content="2021/02/10"/>
<meta name="citation_publication_date" content="2021/02/10"/>
<meta name="citation_author" content="Rafael Peixoto"/>
<meta name="citation_author_institution" content="Universidade Estadual de Campinas"/>
<!--/radix_placeholder_meta_tags-->
  
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","slug","date","bibliography","nocite","csl","categories","output","citation_url","canonical_url"]}},"value":[{"type":"character","attributes":{},"value":["Modelo - Informações Imperfeitas para Consumidor"]},{"type":"character","attributes":{},"value":["Este post apresenta uma versão em LSD de um modelo que analisa a escolha, por produtos, de consumidores em um mercado com informações imperfeitas."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","affiliation","url"]}},"value":[{"type":"character","attributes":{},"value":["Rafael Peixoto"]},{"type":"character","attributes":{},"value":["Universidade Estadual de Campinas"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":[]}},"value":[]}]}]},{"type":"character","attributes":{},"value":["peixoto2021infoimperf"]},{"type":"character","attributes":{},"value":["02-10-2021"]},{"type":"character","attributes":{},"value":["infoimperf.bib"]},{"type":"character","attributes":{},"value":["@smallwood1979product\n"]},{"type":"character","attributes":{},"value":["associacao-brasileira-de-normas-tecnicas-ipea.csl"]},{"type":"character","attributes":{},"value":["Modelos","LSD"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]}]}]},{"type":"character","attributes":{},"value":["https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/"]},{"type":"character","attributes":{},"value":["https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/"]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["associacao-brasileira-de-normas-tecnicas-ipea.csl","infoimperf.bib","infoimperf_files/anchor-4.2.2/anchor.min.js","infoimperf_files/bowser-1.9.3/bowser.min.js","infoimperf_files/distill-2.2.21/template.v2.js","infoimperf_files/figure-html5/unnamed-chunk-1-1.pdf","infoimperf_files/figure-html5/unnamed-chunk-1-1.png","infoimperf_files/figure-html5/unnamed-chunk-2-1.pdf","infoimperf_files/figure-html5/unnamed-chunk-2-1.png","infoimperf_files/figure-html5/unnamed-chunk-3-1.png","infoimperf_files/figure-html5/unnamed-chunk-4-1.png","infoimperf_files/figure-html5/unnamed-chunk-5-1.png","infoimperf_files/figure-html5/unnamed-chunk-6-1.png","infoimperf_files/figure-html5/unnamed-chunk-7-1.png","infoimperf_files/figure-html5/unnamed-chunk-8-1.png","infoimperf_files/figure-html5/unnamed-chunk-9-1.png","infoimperf_files/header-attrs-2.5/header-attrs.js","infoimperf_files/jquery-1.11.3/jquery.min.js","infoimperf_files/webcomponents-2.0.0/webcomponents.js","isbroken.res.gz","mshare.res.gz","numlost.res.gz","numusers.res.gz","preview.aux","prodused.res.gz","purchase.res.gz","sales.res.gz","tikz101057411927.log","tikz1e185f1c7427.log","tikz211c1e131a39.log","tikz2944422e1bf2.log","tikz2a8059f42ab1.log","tikz30fc51601adc.log","tikz39007eca1d35.log","tikz39f82132bb4.log","tikz45a46d3e797c.log","tikz47f4355f75bc.log","tikz56646af5beb.log","tikz586c1fb03ff0.aux","tikz586c1fb03ff0.log","tikz586c1fb03ff0.pdf","tikz586c1fb03ff0.tex","visibility.res.gz"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

</style>

<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
            .filter(function(item) { return !!item.description; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description}
                </div>
                <div class="search-item-preview">
                  <img src="${suggestion.preview ? offsetURL(suggestion.preview) : ''}"</img>
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<!--/radix_placeholder_distill-->
  <script src="../../site_libs/header-attrs-2.5/header-attrs.js"></script>
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Modelo - Informações Imperfeitas para Consumidor","description":"Este post apresenta uma versão em LSD de um modelo que analisa a escolha, por produtos, de consumidores em um mercado com informações imperfeitas.","authors":[{"author":"Rafael Peixoto","authorURL":{},"affiliation":"Universidade Estadual de Campinas","affiliationURL":"#","orcidID":""}],"publishedDate":"2021-02-10T00:00:00.000-03:00","citationText":"Peixoto, 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Macroeconomia Baseada em Agentes</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Posts</a>
<a href="../../about.html">Sobre</a>
<a href="../../gallery.html">Galeria</a>
<a href="../../index.xml">
<i class="fa fa-rss" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Modelo - Informações Imperfeitas para Consumidor</h1>
<!--radix_placeholder_categories-->
<div class="dt-tags">
  <a href="../../index.html#category:Modelos" class="dt-tag">Modelos</a>
  <a href="../../index.html#category:LSD" class="dt-tag">LSD</a>
</div>
<!--/radix_placeholder_categories-->
<p><p>Este post apresenta uma versão em LSD de um modelo que analisa a escolha, por produtos, de consumidores em um mercado com informações imperfeitas.</p></p>
</div>

<div class="d-byline">
  Rafael Peixoto true (Universidade Estadual de Campinas)
  
<br/>02-10-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introdução">Introdução</a></li>
<li><a href="#modelo">Modelo</a></li>
<li><a href="#equações">Equações</a></li>
<li><a href="#conclusão">Conclusão</a></li>
</ul>
</nav>
</div>
<div class="layout-chunk" data-layout="l-body">
<style type="text/css">
d-article p {
  text-align: justify;
  font-size: 16px;
}

d-article p code {
  background: rgba(236, 236, 236, 0.8);
}
</style>
</div>
<h2 id="introdução">Introdução</h2>
<p>Esse modelo é inspirado no artigo <em>Product Quality in Markets where Consumers are Imperfectly Informed</em>, de Smallwood e Conlisk (1979), no qual os autores procuram analisar a escolha de produtos em um mercado onde os consumidores não possuem informação perfeita a respeito da qualidade dos produtos. Nesse contexto, tais consumidores acabam recorrendo a uma regra de bolso que diz que a popularidade de um produto é um sinal da sua qualidade. Assim, a questão chave que o modelo pretende analisar é se os consumidores, incapazes de avaliar qualidades de forma individual, conseguem fazê-lo de forma coletiva.</p>
<p>O modelo parte de alguns pressupostos bem irrealistas, a fim de prover uma resposta clara:</p>
<ul>
<li>O preço é idêntico para todos os produtos.</li>
<li>Não há diferenciação na distribuição.</li>
<li>Não há propaganda.</li>
<li>Não há acesso a informações de especialistas.</li>
</ul>
<p>O modelo, resumidamente, funciona da seguinte maneira: as firmas, com seus produtos, possuem qualidades que diferem uma da outra, porém, de forma “escondida” — os consumidores não possuem acesso a essa informação. Com isso, os consumidores escolhem um produto para comprar e continuam com esse produto até que ele quebre, momento no qual compram um novo. A escolha do produto a ser comprado é aleatória, porém com probabilidades proporcionais aos <em>market shares</em> das firmas.</p>
<h2 id="modelo">Modelo</h2>
<p>A linha de eventos do modelo se inicia com os consumidores decidindo se vão ou não ao mercado comprar um novo produto. Tal decisão depende unicamente do estado do seu produto atual, se ele está quebrado ou funcionando:</p>
<p><span class="math display">\[
\begin{aligned}
&amp; produto =  
\begin{cases}
produto \ atual &amp; , \ se \ funcionando \\
produto \ novo &amp; , \ se \ quebrado \\
\end{cases}\\
\end{aligned}
\]</span></p>
<p>Todo produto, quando usado (ou seja, em cada período de tempo), possui uma probabilidade de quebrar (<em>Breaking Down</em>):</p>
<p><span class="math display">\[
\begin{aligned}
&amp; quebrado =  
\begin{cases}
sim &amp; , \ probabilidade = BD \\
não &amp; , \ probabilidade = 1 - BD \\
\end{cases}\\
\end{aligned}
\]</span></p>
<p>Quando o produto quebra, o consumidor precisa comprar um novo. Porém, ele não conhece a probabilidade de quebrar, <strong>BD</strong>, de cada produto, para usar como parâmetro de escolha. Por outro lado, ele pode observar os produtos dos outros consumidores. Assim, ele pode escolher qual produto comprar com base em probabilidades proporcionais aos <em>market shares</em> dos produtos (ou seja, quais proporções dos consumidores utilizam quais produtos):</p>
<p><span class="math display">\[
\begin{aligned}
p_i = \frac{ms_i^\alpha}{\sum_{j=1}^n ms_j^\alpha}
\end{aligned}
\]</span></p>
<p>Essa equação apenas calcula a probabilidade de escolher um dado produto, baseado na proporção do <em>market share</em> desse produto. O parâmetro <span class="math inline">\(\alpha\)</span> indica o peso dado ao <em>market share</em> na formação das probabilidades. Por exemplo:</p>
<ul>
<li><span class="math inline">\(\alpha = 0\)</span>: todo <span class="math inline">\(p_i = 1\)</span>, independente do <em>market share</em>.</li>
<li><span class="math inline">\(\alpha \uparrow\)</span>: mais importante o <em>market share</em> na formação das probabilidades.</li>
<li><span class="math inline">\(\alpha \approx \infty\)</span>: A firma com maior <em>market share</em> possui <span class="math inline">\(p_i \approx 1\)</span>, e todas as outras <span class="math inline">\(p_j \approx 0\)</span>.</li>
</ul>
<p>Com isso, <span class="math inline">\(\alpha\)</span> pode ser entendido como a confiança que os consumidores têm no <em>market share</em> para selecionar o melhor produto, ou seja, no pressuposto de que o produto mais vendido é o de melhor qualidade.</p>
<h4 id="estrutura-do-modelo">Estrutura do modelo</h4>
<p>O modelo, no LSD, possui a seguinte estrutura (de objetos, ou agentes):</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="infoimperf_files/figure-html5/unnamed-chunk-2-1.png" width="40%" style="display: block; margin: auto;" /></p>
</div>
<p>O Mercado é o objeto <em>origem</em>, do qual descendem os objetos Oferta e Demanda. Por sua vez, Oferta possui o objeto Firma como descentende, e Demanda possui Consumidor como descendente.<br />
Cada um desses objetos contêm um conjunto de variáveis (com seus <em>lag</em> indicados quando necessário) e parâmetros (cujos valores podem variar para cada <em>cópia</em> do objeto):</p>
<div style="display: flex; justify-content: center; line-height: 20px;">
<table style="width:75%;">
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="header">
<th></th>
<th style="text-align: center;">Variável</th>
<th style="text-align: center;">Parâmetro</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Mercado</strong></td>
<td style="text-align: center;"><code>Init</code></td>
<td style="text-align: center;"><code>TotalUsers</code></td>
</tr>
<tr class="even">
<td><strong>Oferta</strong></td>
<td style="text-align: center;"><code>InitTrade</code></td>
<td style="text-align: center;"><code>alpha</code></td>
</tr>
<tr class="odd">
<td><strong>Firma</strong></td>
<td style="text-align: center;"><code>NumUsers(1)</code> <code>ms_users(1)</code> <code>Visibility</code></td>
<td style="text-align: center;"><code>IdFirm</code> <code>BD</code> <code>Sales</code> <code>NumLost</code></td>
</tr>
<tr class="even">
<td><strong>Demanda</strong></td>
<td style="text-align: center;"><code>EndTrade</code></td>
<td style="text-align: center;">-</td>
</tr>
<tr class="odd">
<td><strong>Consumidor</strong></td>
<td style="text-align: center;"><code>ProdUsed(1)</code></td>
<td style="text-align: center;">-</td>
</tr>
</tbody>
</table>
</div>
<p>Além disso, alguns dos objetos desse modelo contêm também <strong>funções</strong>, que são semelhantes às variáveis, mas que podem ser computadas diversas vezes dentro de um mesmo período de tempo da simulação. Assim como as variáveis, precisam ser invocadas com um bloco de <em>Equação</em> específico. As funções (e os objetos que as contêm) presentes nesse modelo são:</p>
<ul>
<li><strong>Oferta</strong>: <code>Purchase</code>.</li>
<li><strong>Consumidor</strong>: <code>IsBroken</code>.</li>
</ul>
<p>Vejamos como é implementada cada Equação para essas variáveis e funções, juntamente com os parâmetros necessários.</p>
<h2 id="equações">Equações</h2>
<p>O modelo inteiro é constituido por 9 equações (7 variáveis e 2 funções). Porém, dessas 9, 3 Equações (<code>Init</code>, <code>InitTrade</code>, <code>EndTrade</code>) retornam sempre o valor 1, sendo sua finalidade apenas configurar alguns parâmetros e outras variáveis. A variável <code>NumUsers</code> é a de maior interesse para análise do modelo, uma vez que retorna o número de consumidores de cada produto (Firma). A variável <code>ms_users</code> calcula a proporção de consumidores, baseada no número total. A variável <code>Visibility</code> utiliza o <span class="math inline">\(\alpha\)</span> — que indica o quão importante é o <em>market share</em> — para gerar as probabilidade de cada produto ser comprado. As funções <code>Purchase</code> e <code>IsBroken</code> são necessárias para calcular a variável <code>ProdUsed</code>, que determina qual produto cada consumidor vai usar.</p>
<div class="sourceCode" id="numCode"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="numCode-1"><a href="#numCode-1" aria-hidden="true" tabindex="-1"></a><span class="co">//#define EIGENLIB          // uncomment to use Eigen linear algebra library</span></span>
<span id="numCode-2"><a href="#numCode-2" aria-hidden="true" tabindex="-1"></a><span class="co">//#define NO_POINTER_INIT   // uncomment to disable pointer checking</span></span>
<span id="numCode-3"><a href="#numCode-3" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;fun_head_fast.h&quot;</span></span>
<span id="numCode-4"><a href="#numCode-4" aria-hidden="true" tabindex="-1"></a><span class="co">// do not add Equations in this area</span></span>
<span id="numCode-5"><a href="#numCode-5" aria-hidden="true" tabindex="-1"></a>MODELBEGIN</span>
<span id="numCode-6"><a href="#numCode-6" aria-hidden="true" tabindex="-1"></a><span class="co">// insert your equations here, between the MODELBEGIN and MODELEND words</span></span>
<span id="numCode-7"><a href="#numCode-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-8"><a href="#numCode-8" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;ProdUsed&quot;</span>)</span>
<span id="numCode-9"><a href="#numCode-9" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-10"><a href="#numCode-10" aria-hidden="true" tabindex="-1"></a><span class="co">Determine the product used by the consumer at each time step</span></span>
<span id="numCode-11"><a href="#numCode-11" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-12"><a href="#numCode-12" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = V(<span class="st">&quot;IsBroken&quot;</span>); <span class="co">//breaks ?</span></span>
<span id="numCode-13"><a href="#numCode-13" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(v[<span class="dv">0</span>] == <span class="dv">1</span>)</span>
<span id="numCode-14"><a href="#numCode-14" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = V(<span class="st">&quot;Purchase&quot;</span>); <span class="co">//yes, buy a new produc</span></span>
<span id="numCode-15"><a href="#numCode-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="numCode-16"><a href="#numCode-16" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = VL(<span class="st">&quot;ProdUsed&quot;</span>, <span class="dv">1</span>); <span class="co">//no, keep on using the previous one</span></span>
<span id="numCode-17"><a href="#numCode-17" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">1</span>])</span>
<span id="numCode-18"><a href="#numCode-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-19"><a href="#numCode-19" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;IsBroken&quot;</span>)</span>
<span id="numCode-20"><a href="#numCode-20" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-21"><a href="#numCode-21" aria-hidden="true" tabindex="-1"></a><span class="co">Check whether the product breaks down or not.</span></span>
<span id="numCode-22"><a href="#numCode-22" aria-hidden="true" tabindex="-1"></a><span class="co">Return 1 if the product breaks or 0 if not.</span></span>
<span id="numCode-23"><a href="#numCode-23" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-24"><a href="#numCode-24" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = VL(<span class="st">&quot;ProdUsed&quot;</span>, <span class="dv">1</span>); <span class="co">//product owned by the consumer at t-1</span></span>
<span id="numCode-25"><a href="#numCode-25" aria-hidden="true" tabindex="-1"></a>cur = SEARCH_CND(<span class="st">&quot;IdFirm&quot;</span>, v[<span class="dv">0</span>]); <span class="co">//search the object with IdFirm</span></span>
<span id="numCode-26"><a href="#numCode-26" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">2</span>] = VS(cur, <span class="st">&quot;BD&quot;</span>); <span class="co">//read the value of the prob. to break down</span></span>
<span id="numCode-27"><a href="#numCode-27" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(RND &lt; v[<span class="dv">2</span>]) <span class="co">//</span></span>
<span id="numCode-28"><a href="#numCode-28" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="numCode-29"><a href="#numCode-29" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = <span class="dv">1</span>; <span class="co">//product broken</span></span>
<span id="numCode-30"><a href="#numCode-30" aria-hidden="true" tabindex="-1"></a>    V(<span class="st">&quot;InitTrade&quot;</span>); <span class="co">//just to ensure NumLost is reset</span></span>
<span id="numCode-31"><a href="#numCode-31" aria-hidden="true" tabindex="-1"></a>    INCRS(cur, <span class="st">&quot;NumLost&quot;</span>, <span class="dv">1</span>);</span>
<span id="numCode-32"><a href="#numCode-32" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="numCode-33"><a href="#numCode-33" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="numCode-34"><a href="#numCode-34" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = <span class="dv">0</span>; <span class="co">//product not broken</span></span>
<span id="numCode-35"><a href="#numCode-35" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">1</span>])</span>
<span id="numCode-36"><a href="#numCode-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-37"><a href="#numCode-37" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;Purchase&quot;</span>)</span>
<span id="numCode-38"><a href="#numCode-38" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-39"><a href="#numCode-39" aria-hidden="true" tabindex="-1"></a><span class="co">Make a purchase for the calling object (supposedly a consumer).</span></span>
<span id="numCode-40"><a href="#numCode-40" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-41"><a href="#numCode-41" aria-hidden="true" tabindex="-1"></a>cur1 = RNDDRAW(<span class="st">&quot;Firm&quot;</span>, <span class="st">&quot;Visibility&quot;</span>); <span class="co">//choose randomly one of the products</span></span>
<span id="numCode-42"><a href="#numCode-42" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = VS(cur1, <span class="st">&quot;IdFirm&quot;</span>); <span class="co">//return the ID of the chosen firm</span></span>
<span id="numCode-43"><a href="#numCode-43" aria-hidden="true" tabindex="-1"></a>V(<span class="st">&quot;InitTrade&quot;</span>); <span class="co">//ensure that firms are ready to sell</span></span>
<span id="numCode-44"><a href="#numCode-44" aria-hidden="true" tabindex="-1"></a>INCRS(cur1, <span class="st">&quot;Sales&quot;</span>, <span class="dv">1</span>); <span class="co">//increase the Sales of the chosen firm</span></span>
<span id="numCode-45"><a href="#numCode-45" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">0</span>])</span>
<span id="numCode-46"><a href="#numCode-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-47"><a href="#numCode-47" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;NumUsers&quot;</span>)</span>
<span id="numCode-48"><a href="#numCode-48" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-49"><a href="#numCode-49" aria-hidden="true" tabindex="-1"></a><span class="co">Number of users, computed, after the end of the trading period, </span></span>
<span id="numCode-50"><a href="#numCode-50" aria-hidden="true" tabindex="-1"></a><span class="co">by summing to the previous users the new sales and removing the lost users</span></span>
<span id="numCode-51"><a href="#numCode-51" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-52"><a href="#numCode-52" aria-hidden="true" tabindex="-1"></a>V(<span class="st">&quot;EndTrade&quot;</span>); <span class="co">//ensure that buyers finished the shopping</span></span>
<span id="numCode-53"><a href="#numCode-53" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = VL(<span class="st">&quot;NumUsers&quot;</span>, <span class="dv">1</span>); <span class="co">//former number of users</span></span>
<span id="numCode-54"><a href="#numCode-54" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">1</span>] = V(<span class="st">&quot;Sales&quot;</span>); <span class="co">//sales at this time</span></span>
<span id="numCode-55"><a href="#numCode-55" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">2</span>] = V(<span class="st">&quot;NumLost&quot;</span>); <span class="co">//lost users at this time</span></span>
<span id="numCode-56"><a href="#numCode-56" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">4</span>]= v[<span class="dv">0</span>] + v[<span class="dv">1</span>] - v[<span class="dv">2</span>];</span>
<span id="numCode-57"><a href="#numCode-57" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">4</span>])</span>
<span id="numCode-58"><a href="#numCode-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-59"><a href="#numCode-59" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;ms_user&quot;</span>)</span>
<span id="numCode-60"><a href="#numCode-60" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-61"><a href="#numCode-61" aria-hidden="true" tabindex="-1"></a><span class="co">Market shares of users, computed as the ratio of users over the total number of users</span></span>
<span id="numCode-62"><a href="#numCode-62" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-63"><a href="#numCode-63" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = V(<span class="st">&quot;TotalUsers&quot;</span>);</span>
<span id="numCode-64"><a href="#numCode-64" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">1</span>] = V(<span class="st">&quot;NumUsers&quot;</span>);</span>
<span id="numCode-65"><a href="#numCode-65" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">1</span>] / v[<span class="dv">0</span>])</span>
<span id="numCode-66"><a href="#numCode-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-67"><a href="#numCode-67" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;Visibility&quot;</span>)</span>
<span id="numCode-68"><a href="#numCode-68" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-69"><a href="#numCode-69" aria-hidden="true" tabindex="-1"></a><span class="co">Visibility, implemented to avoid the math error of a power of 0.</span></span>
<span id="numCode-70"><a href="#numCode-70" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-71"><a href="#numCode-71" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = V(<span class="st">&quot;alpha&quot;</span>);</span>
<span id="numCode-72"><a href="#numCode-72" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">1</span>] = VL(<span class="st">&quot;ms_user&quot;</span>, <span class="dv">1</span>);</span>
<span id="numCode-73"><a href="#numCode-73" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(v[<span class="dv">1</span>] == <span class="dv">0</span>)</span>
<span id="numCode-74"><a href="#numCode-74" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">2</span>] = <span class="dv">0</span>;</span>
<span id="numCode-75"><a href="#numCode-75" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="numCode-76"><a href="#numCode-76" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">2</span>] = pow(v[<span class="dv">1</span>], v[<span class="dv">0</span>]);</span>
<span id="numCode-77"><a href="#numCode-77" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">2</span>])</span>
<span id="numCode-78"><a href="#numCode-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-79"><a href="#numCode-79" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;InitTrade&quot;</span>)</span>
<span id="numCode-80"><a href="#numCode-80" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-81"><a href="#numCode-81" aria-hidden="true" tabindex="-1"></a><span class="co">Initialize the trading period. For each firm set to 0 the parameter Sales and NumLost</span></span>
<span id="numCode-82"><a href="#numCode-82" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-83"><a href="#numCode-83" aria-hidden="true" tabindex="-1"></a>CYCLE(cur, <span class="st">&quot;Firm&quot;</span>)</span>
<span id="numCode-84"><a href="#numCode-84" aria-hidden="true" tabindex="-1"></a>    { <span class="co">//for all firms set to 0 Sales and NumLost</span></span>
<span id="numCode-85"><a href="#numCode-85" aria-hidden="true" tabindex="-1"></a>    WRITES(cur, <span class="st">&quot;Sales&quot;</span>, <span class="dv">0</span>);</span>
<span id="numCode-86"><a href="#numCode-86" aria-hidden="true" tabindex="-1"></a>    WRITES(cur, <span class="st">&quot;NumLost&quot;</span>, <span class="dv">0</span>);</span>
<span id="numCode-87"><a href="#numCode-87" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="numCode-88"><a href="#numCode-88" aria-hidden="true" tabindex="-1"></a>RESULT(<span class="dv">1</span>)</span>
<span id="numCode-89"><a href="#numCode-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-90"><a href="#numCode-90" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;EndTrade&quot;</span>)</span>
<span id="numCode-91"><a href="#numCode-91" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-92"><a href="#numCode-92" aria-hidden="true" tabindex="-1"></a><span class="co">For each consumer ensures that the variable ProdUsed is updated so that Sales and NumLost are filled with the correct values</span></span>
<span id="numCode-93"><a href="#numCode-93" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-94"><a href="#numCode-94" aria-hidden="true" tabindex="-1"></a>CYCLE(cur, <span class="st">&quot;Consumer&quot;</span>)</span>
<span id="numCode-95"><a href="#numCode-95" aria-hidden="true" tabindex="-1"></a>    VS(cur, <span class="st">&quot;ProdUsed&quot;</span>);</span>
<span id="numCode-96"><a href="#numCode-96" aria-hidden="true" tabindex="-1"></a>RESULT(<span class="dv">1</span>)</span>
<span id="numCode-97"><a href="#numCode-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-98"><a href="#numCode-98" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;Init&quot;</span>)</span>
<span id="numCode-99"><a href="#numCode-99" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="numCode-100"><a href="#numCode-100" aria-hidden="true" tabindex="-1"></a><span class="co">Initialize demand. It assumes that initially there is only 1 consumer. ms_users[0] are the prob of first purchase</span></span>
<span id="numCode-101"><a href="#numCode-101" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="numCode-102"><a href="#numCode-102" aria-hidden="true" tabindex="-1"></a>cur = SEARCH(<span class="st">&quot;Demand&quot;</span>);<span class="co">//search the object Demand</span></span>
<span id="numCode-103"><a href="#numCode-103" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = V(<span class="st">&quot;TotalUsers&quot;</span>);<span class="co">//number of consumers</span></span>
<span id="numCode-104"><a href="#numCode-104" aria-hidden="true" tabindex="-1"></a>ADDNOBJS(cur, <span class="st">&quot;Consumer&quot;</span>, v[<span class="dv">0</span>] - <span class="dv">1</span>);<span class="co">//create new objects</span></span>
<span id="numCode-105"><a href="#numCode-105" aria-hidden="true" tabindex="-1"></a>CYCLES(cur,cur1, <span class="st">&quot;Consumer&quot;</span>)</span>
<span id="numCode-106"><a href="#numCode-106" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="numCode-107"><a href="#numCode-107" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = V(<span class="st">&quot;Purchase&quot;</span>);</span>
<span id="numCode-108"><a href="#numCode-108" aria-hidden="true" tabindex="-1"></a>    WRITELS(cur1, <span class="st">&quot;ProdUsed&quot;</span>, v[<span class="dv">1</span>], t - <span class="dv">1</span>);<span class="co">//replace the existing value</span></span>
<span id="numCode-109"><a href="#numCode-109" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="numCode-110"><a href="#numCode-110" aria-hidden="true" tabindex="-1"></a>PARAMETER <span class="co">//transform the variable into a param</span></span>
<span id="numCode-111"><a href="#numCode-111" aria-hidden="true" tabindex="-1"></a>RESULT(<span class="dv">1</span>)</span>
<span id="numCode-112"><a href="#numCode-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="numCode-113"><a href="#numCode-113" aria-hidden="true" tabindex="-1"></a>MODELEND</span>
<span id="numCode-114"><a href="#numCode-114" aria-hidden="true" tabindex="-1"></a><span class="co">// do not add Equations in this area</span></span>
<span id="numCode-115"><a href="#numCode-115" aria-hidden="true" tabindex="-1"></a><span class="dt">void</span> close_sim( <span class="dt">void</span> )</span>
<span id="numCode-116"><a href="#numCode-116" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="numCode-117"><a href="#numCode-117" aria-hidden="true" tabindex="-1"></a>    <span class="co">// close simulation special commands go here</span></span>
<span id="numCode-118"><a href="#numCode-118" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<p>Vamos analisar cada um dessas equações com mais detalhes. Lembrando que os modelos escritos no LSD são compostos por um conjunto de Equações que são atualizadas em cada período de uma simulação. Essas equações descrevem o comportamento das variáveis (ou funções) que fazem parte do modelo.</p>
<h5 id="equationprodused">EQUATION(“ProdUsed”)</h5>
<p>Essa equação tem como finalidade indicar, em cada período de tempo, qual o produto (Firma) usado por cada um dos consumidores. Para tanto, ela verifica se o produto atual do consumidor em questão está quebrado ou não (por meio da variável <code>IsBroken</code>). Caso esteja quebrado, é o utilizado a função <code>Purchase</code> para comprar um novo produto; caso não esteja quebrado, é utilizado o mesmo produto que no período anterior, por meio da própria variável <code>prodUsed</code>, com um <em>lag</em> de 1 período. A equação retorna o ID da firma, informado pelo parâmetro <code>IdFirm</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;ProdUsed&quot;</span>)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co">Determine the product used by the consumer at each time step</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = V(<span class="st">&quot;IsBroken&quot;</span>); <span class="co">//breaks ?</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(v[<span class="dv">0</span>] == <span class="dv">1</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = V(<span class="st">&quot;Purchase&quot;</span>); <span class="co">//yes, buy a new produc</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = VL(<span class="st">&quot;ProdUsed&quot;</span>, <span class="dv">1</span>); <span class="co">//no, keep on using the previous one</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">1</span>])</span></code></pre></div>
<p>Por exemplo, seja uma simulação com 500 períodos, <span class="math inline">\(\alpha = 0.5\)</span>, 10 Firmas e 10000 consumidores. Vejamos o comportamento da variável <code>ProdUsed</code> para 2 consumidores:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="infoimperf_files/figure-html5/unnamed-chunk-3-1.png" width="624" /></p>
</div>
<h5 id="equationisbroken">EQUATION(“IsBroken”)</h5>
<p>Essa equação, que é de uma função (não uma variável), tem como finalidade indicar se o produto usado por um consumidor irá quebrar no período corrente. Para tanto, primeiramente, ela verifica qual foi o produto usado no período anterior, assim como o ID da sua Firma produtora. Com isso, a equação verifica a probabilidade que esse produto tem de quebrar (com base no parâmetro <code>BD</code> referente à Firma produtora). Então é feito um sorteio aleatório, com distribuição uniforme entre 0 e 1 (Macro <code>RND</code>): caso o valor seja menor que o parâmetro <code>BD</code>, o produto está quebrado nesse período; caso seja maior, o produto não está quebrado. A equação retorna 0 (produto não quebrado) ou 1 (produto quebrado). Além disso, quando o produto está quebrado, a equação faz um acréscimo unitário no parâmetro <code>NumLost</code> da Firma em questão — através da Macro INCRS(obj, “x”, value) que, no caso, fica INCRS(cur, “NumLost”, 1).</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;IsBroken&quot;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">Check whether the product breaks down or not.</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">Return 1 if the product breaks or 0 if not.</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = VL(<span class="st">&quot;ProdUsed&quot;</span>, <span class="dv">1</span>); <span class="co">//product owned by the consumer at t-1</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>cur = SEARCH_CND(<span class="st">&quot;IdFirm&quot;</span>, v[<span class="dv">0</span>]); <span class="co">//search the object with IdFirm</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">2</span>] = VS(cur, <span class="st">&quot;BD&quot;</span>); <span class="co">//read the value of the prob. to break down</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(RND &lt; v[<span class="dv">2</span>]) <span class="co">//</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = <span class="dv">1</span>; <span class="co">//product broken</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    V(<span class="st">&quot;InitTrade&quot;</span>); <span class="co">//just to ensure NumLost is reset</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    INCRS(cur, <span class="st">&quot;NumLost&quot;</span>, <span class="dv">1</span>);</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = <span class="dv">0</span>; <span class="co">//product not broken</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">1</span>])</span></code></pre></div>
<p>Por exemplo, seja uma simulação com 500 períodos, <span class="math inline">\(\alpha = 0.5\)</span>, 10 Firmas e 10000 consumidores. Vejamos o comportamento da função <code>IsBroken</code> para 1 consumidor. Lembrando que a probabilidade de quebrar depende do parâmetro <code>BD</code>, que nesse exemplo foi definido com o valor de 10% para a Firma 1, 11% para a Firma 2, …, 19% para a Firma 10. Em cada período de tempo, o produto possuído pelo consumidor irá determinar a probabilidade de quebrar.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="infoimperf_files/figure-html5/unnamed-chunk-4-1.png" width="624" /></p>
</div>
<h5 id="equationpurchase">EQUATION(“Purchase”)</h5>
<p>Assim como a EQUATION(“IsBroken”), essa equação também é de uma função. Funções podem ser chamadas diversas vezes em um mesmo período de tempo, porém apenas a última vez é salva. No caso de <code>IsBroken</code>, isso não foi muito importante, pois cada consumidor a chamava apenas uma vez por período, sendo salvos todos seus valores para cada consumidor. No caso de <code>Purchase</code>, essa restrição é importante, pois os valores pertencem ao objeto <strong>Oferta</strong>, que possui apenas 1 cópia. Assim, é possível que diversos consumidores chamem a função <code>Purchase</code>, porém apenas o valor do último que o fizer será salvo.<br />
A equação funciona da seguinte maneira: primeiramente, sorteada-se uma firma, com probabilidades iguais às suas <code>Visbility</code> (que dependem do <em>market share</em>); depois, guarda-se o ID dessa firma; por fim, faz-se um incremento unitário no parâmetro <code>Sales</code> dessa firma. A equação retorna o ID da firma sorteada.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;Purchase&quot;</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="co">Make a purchase for the calling object (supposedly a consumer).</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>cur1 = RNDDRAW(<span class="st">&quot;Firm&quot;</span>, <span class="st">&quot;Visibility&quot;</span>); <span class="co">//choose randomly one of the products</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = VS(cur1, <span class="st">&quot;IdFirm&quot;</span>); <span class="co">//return the ID of the chosen firm</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>V(<span class="st">&quot;InitTrade&quot;</span>); <span class="co">//ensure that firms are ready to sell</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>INCRS(cur1, <span class="st">&quot;Sales&quot;</span>, <span class="dv">1</span>); <span class="co">//increase the Sales of the chosen firm</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">0</span>])</span></code></pre></div>
<p>Por exemplo, seja uma simulação com 500 períodos, <span class="math inline">\(\alpha = 0.5\)</span>, 10 Firmas e 10000 consumidores. Vejamos o comportamento da função <code>Purchase</code> (para o último consumidor que a chamar, em cada período).</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="infoimperf_files/figure-html5/unnamed-chunk-5-1.png" width="624" /></p>
</div>
<h5 id="equationnumusers">EQUATION(“NumUsers”)</h5>
<p>Essa equação tem como finalidade indicar o número de usuários de cada produto (firma) ao fim de cada período, após computar as adições (vendas para novos usuários) e subtrações (perdas de usuários devido à quebra de produtos) de consumidores. Para tanto, ela simplesmente verifica o número de usuários (de cada firma) no período anterior, o número de vendas no período corrente e o número de usuários perdidos também no período corrente, e computa o novo número de usuários.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;NumUsers&quot;</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co">Number of users, computed, after the end of the trading period, </span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">by summing to the previous users the new sales and removing the lost users</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>V(<span class="st">&quot;EndTrade&quot;</span>); <span class="co">//ensure that buyers finished the shopping</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = VL(<span class="st">&quot;NumUsers&quot;</span>, <span class="dv">1</span>); <span class="co">//former number of users</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">1</span>] = V(<span class="st">&quot;Sales&quot;</span>); <span class="co">//sales at this time</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">2</span>] = V(<span class="st">&quot;NumLost&quot;</span>); <span class="co">//lost users at this time</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">4</span>]= v[<span class="dv">0</span>] + v[<span class="dv">1</span>] - v[<span class="dv">2</span>];</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">4</span>])</span></code></pre></div>
<p>Por exemplo, seja uma simulação com 500 períodos, <span class="math inline">\(\alpha = 0.5\)</span>, 10 Firmas e 10000 consumidores. Vejamos o comportamento da variável <code>NumUsers</code> para cada firma. Lembrando que a probabilidade de quebrar depende do parâmetro <code>BD</code>, que nesse exemplo foi definido com o valor de 10% para a Firma 1, 11% para a Firma 2, …, 19% para a Firma 10.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="infoimperf_files/figure-html5/unnamed-chunk-6-1.png" width="624" /></p>
</div>
<p>Como o gráfico mostra, quanto maior o parâmetro <code>BD</code> (probabilidade de o produto quebrar) da firma, menor é número de usuários que ela consegue manter no longo prazo. Essa divergência é rapidamente atingida no começo e depois mantida ao longo do tempo. Como existem 10000 consumidores e 10 Firmas, inicialmente cada firma fica com um número de consumidores em torno de 1000. Um exame dos primeiros períodos mostra essa rapidez:</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="infoimperf_files/figure-html5/unnamed-chunk-7-1.png" width="624" /></p>
</div>
<h5 id="equationms_user">EQUATION(“ms_user”)</h5>
<p>Essa equação apenas divide o número de usuários de cada Firma, <code>NumUsers</code>, pelo total de usuários, parâmetro <code>TotalUsers</code>.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;ms_user&quot;</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co">Market shares of users, computed as the ratio of users over the total number of users</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = V(<span class="st">&quot;TotalUsers&quot;</span>);</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">1</span>] = V(<span class="st">&quot;NumUsers&quot;</span>);</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">1</span>] / v[<span class="dv">0</span>])</span></code></pre></div>
<p>O gráfico dessa variável é igual ao de <code>NumUsers</code>, porém com uma escala diferente, refletindo a porcentagem e não o número total de usuários de cada Firma.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="infoimperf_files/figure-html5/unnamed-chunk-8-1.png" width="624" /></p>
</div>
<h5 id="equationvisibility">EQUATION(“Visibility”)</h5>
<p>Essa equação tem como finalidade indicar a visibilidade de cada produto (firma) ao fim de cada período, após computar as adições (vendas para novos usuários) e subtrações (perdas de usuários devido à quebra de produtos) de consumidores. O <em>mark share</em> — que depende das vendas e perdas — é a base da visibilidade. Mais especificamente, essa é calculada elevando-se o <em>market share</em> (no período anterior) ao expoente <code>alpha</code>. Uma Exceção que a equação implemente é que caso o <em>market share</em> seja igual a zero, a visibilidade também será zero. Isso é feito para eliminar a possibilidade de uma Firma possuir <em>market share</em> zero mas visibilidade igual a um — caso o <code>alpha</code> seja igual a zero.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;Visibility&quot;</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="co">Visibility, implemented to avoid the math error of a power of 0.</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = V(<span class="st">&quot;alpha&quot;</span>);</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">1</span>] = VL(<span class="st">&quot;ms_user&quot;</span>, <span class="dv">1</span>);</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(v[<span class="dv">1</span>] == <span class="dv">0</span>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">2</span>] = <span class="dv">0</span>;</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">2</span>] = pow(v[<span class="dv">1</span>], v[<span class="dv">0</span>]);</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>RESULT(v[<span class="dv">2</span>])</span></code></pre></div>
<p>Por exemplo, seja uma simulação com 500 períodos, <span class="math inline">\(\alpha = 0.5\)</span>, 10 Firmas e 10000 consumidores. Vejamos o comportamento da variável <code>Visibility</code> para cada firma. Como dito, em cada período, o valor dessa variável é igual ao <em>market share</em> elevado à potencia <code>alpha</code>, que no caso é igual 0.5. Ou seja, o valor de <code>Visibility</code>, em cada período, é simplesmente a raiz quadrada do <em>market share</em>. Portanto, o gráfico terá o mesmo comportamento, porém mais “esticado” — uma vez que os valores estão entre 0 e 1.</p>
<div class="layout-chunk" data-layout="l-body">
<p><img src="infoimperf_files/figure-html5/unnamed-chunk-9-1.png" width="624" /></p>
</div>
<p>Dessa forma, a <code>Visibility</code> deriva diretamente do <em>market share</em>, que deriva do <code>NumUsers</code>, que depende, em cada período, do número de <code>Sales</code> e de <code>NumLost</code>, que são dois parâmetros das Firmas.<br />
<code>Sales</code> é determinado pela equação (função) de <code>Purchase</code>: cada consumidor que teve um produto quebrado chama essa função, e a firma escolhida para realizar a venda é determinada por um sorteio aleatório com probabilidades iguais a <code>Visibility</code>.<br />
<code>NumLost</code> é determinado pela equação (função) de <code>IsBroken</code>: todo consumidor chama essa função em todos os períodos, e caso o produto esteja quebrado (possui probabilidade <code>BD</code> de quebrar, que varia de produto para produto) a Firma produtora desse produto perde um consumidor.<br />
Assim:</p>
<ul>
<li><code>NumLost</code> é maior para Firmas com <code>BD</code> maior, o que leva a um menor <em>market share</em>.</li>
<li><code>Sales</code> é maior para Firmas com maior <code>Visibility</code>, o que leva a um maior <em>market share</em>.</li>
</ul>
<p>Para entender melhor essa dinâmica, vamos supor que <span class="math inline">\(\alpha = 0\)</span> e, portanto, todas as firmas possuem <code>Visiblity</code> constante e igual a 1. Nesse caso, <code>Sales</code> será semelhante para todas as Firmas — todas terão a mesma probabilidade de serem sorteadas. Assim, o <code>NumUsers</code>, e o <em>market share</em>, irá depender predominantemente do <code>NumLost</code>. Como esse depende do parâmetro <code>BD</code>, que cresce de 10% a 19% entre as 10 Firmas, a Firma com maior <code>BD</code> terá o maior <code>NumLost</code> e, poranto, o menor <em>market share</em>. Porém, isso ocorre de forma cada vez menor, já que tanto menor o <code>NumUsers</code> menor o <code>NumLost</code>. Isso explica a curva acentuada nos primeiros períodos e depois uma variação em torno de uma média no longo prazo.<br />
Vejamos um exemplo: a Firma 1 possui <span class="math inline">\(BD = 0.1\)</span> e a Firma 2 <span class="math inline">\(BD=0.19\)</span>; digamos que no primeiro período cada Firma possua mil consumidores. Assim, em média, a Firma 1 perde 100 consumidores por período e a Firma 2 per 190; após 100 períodos, a Firma 1 possui 2000 consumidores e a Firma 2 possui 500; nessa altura, em cada período, a Firma 1 perde 200 consumidores e a Firma 2 perde 95. Portanto, por mais que a Firma 1 perca menos usuários proporcionalmente, em números totais ela perde mais por possuir mais consumidores. Se todo o modelo se resumisse apenas a isso, seria de se esperar os que números de consumidores dessas duas firmas se estabilizasse em torno de 1600 para a Firma 1 e 800 para a Firma 2, pois dessa forma elas perderiam, em média, o mesmo número de consumidores por período.</p>
<p>Para o caso em que <span class="math inline">\(\alpha \ne 0\)</span>, como os exemplos mostrados ao longo do texto (<span class="math inline">\(\alpha=0.5\)</span>) vale a mesma dinâmica, porém, como as <code>Visibility</code> irão divergir, haverá divergência no <code>Sales</code> e, por fim, no <em>market share</em>. Isso irá acentuar a diferença entre números de consumidores para cada Firma no longo prazo, porém a dinâmica permanece a mesma: uma grande diferenciação nos primeiros períodos, depois uma estabilidade causada pelo <code>NumLost</code>.</p>
<p>As últimas 3 equações (<code>InitTrade</code>, <code>EndTrade</code>, <code>Init</code>) retornam sempre 1 e servem para configurar o modelo.</p>
<h5 id="equationinittrade">EQUATION(“InitTrade”)</h5>
<p>Essa equação tem como finalidade configurar o período de negocioação. Os parâmetros <code>Sales</code> e <code>NumLost</code> computam os ganhos e perdas de consumidores em cada período, portanto precisam ser zeradas ao início de cada período. Essa equação faz apenas isso. Ela ajusta para 0 o valor desses parâmetros para cada uma das firmas.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;InitTrade&quot;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co">Initialize the trading period. For each firm set to 0 the parameter Sales and NumLost</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>CYCLE(cur, <span class="st">&quot;Firm&quot;</span>)</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    { <span class="co">//for all firms set to 0 Sales and NumLost</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>    WRITES(cur, <span class="st">&quot;Sales&quot;</span>, <span class="dv">0</span>);</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>    WRITES(cur, <span class="st">&quot;NumLost&quot;</span>, <span class="dv">0</span>);</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>RESULT(<span class="dv">1</span>)</span></code></pre></div>
<h5 id="equationendtrade">EQUATION(“EndTrade”)</h5>
<p>Essa equação apenas faz uma leitura do produto usado, <code>ProdUsed</code>, por cada consumidor, ao fim de cada período, para assegurar que <code>Sales</code> e <code>NumLost</code> sejam preenchidos com os valores corretos.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;EndTrade&quot;</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="co">For each consumer ensures that the variable ProdUsed is updated so that Sales and NumLost are filled with the correct values</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>CYCLE(cur, <span class="st">&quot;Consumer&quot;</span>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    VS(cur, <span class="st">&quot;ProdUsed&quot;</span>);</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>RESULT(<span class="dv">1</span>)</span></code></pre></div>
<h5 id="equationinit">EQUATION(“Init”)</h5>
<p>Essa equação inicializa a demanda. Primeiramente, ela associa o objeto “Demanda” a um ponteiro <code>cur</code> e guarda o valor do parâmetro <code>TotalUsers</code> — que é ajustado pelo modelador no início da simulação. A equação então cria um número de objetos, chamados “Consumidores”, igual a <code>TotalUsers</code> menos 1 (ela assume que o modelo começa com 1 consumidor), e aloca esse objetos como descendentes do objeto “Demanda”, que ela guardou no ponteiro <code>cur</code>. Após isso, equação então faz um ciclo para chamar a função <code>Purchase</code> para cada um dos consumidores recém criados, e utiliza o valor retornado por <code>Purchase</code> para substituir o valor de <code>ProdUsed</code> no período <span class="math inline">\(t-1\)</span>, que foi inicialmente configurado pelo modelador para ser 0 (para esse primeiro e único consumidor existente antes dessa equação ser chamada). Após tudo isso, essa variável <code>Init</code> é transformada em um parâmetro.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode cpp Cpp"><code class="sourceCode cpp"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>EQUATION(<span class="st">&quot;Init&quot;</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">/*</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co">Initialize demand. It assumes that initially there is only 1 consumer. ms_users[0] are the prob of first purchase</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co">*/</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>cur = SEARCH(<span class="st">&quot;Demand&quot;</span>);<span class="co">//search the object Demand</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>v[<span class="dv">0</span>] = V(<span class="st">&quot;TotalUsers&quot;</span>);<span class="co">//number of consumers</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>ADDNOBJS(cur, <span class="st">&quot;Consumer&quot;</span>, v[<span class="dv">0</span>] - <span class="dv">1</span>);<span class="co">//create new objects</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>CYCLES(cur,cur1, <span class="st">&quot;Consumer&quot;</span>)</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    v[<span class="dv">1</span>] = V(<span class="st">&quot;Purchase&quot;</span>);</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    WRITELS(cur1, <span class="st">&quot;ProdUsed&quot;</span>, v[<span class="dv">1</span>], t - <span class="dv">1</span>);<span class="co">//replace the existing value</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>PARAMETER <span class="co">//transform the variable into a param</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>RESULT(<span class="dv">1</span>)</span></code></pre></div>
<h2 id="conclusão">Conclusão</h2>
<p>Esse modelo explora a competição entre firmas, por consumidores em um mercado no qual não há informação perfeita e esses consumidores precisam tomar suas decisões com base numa regra de bolso, que no caso é assumir que a firma com maior <em>market share</em> possui o melhor produto. Porém, o modelo assume que o <em>market share</em> depende da qualidade do produto, uma vez que a probabilidade desse quebrar influencia diretamente no número de consumidores da firma. A visibilidade da firma acentua as diferenças de <em>market share</em> entre essas, porém o que determina a dinâmica do modelo de forma mais preponderante é o fato de que as probabilidades <code>BD</code> definem o número de consumidores perdidos e portanto, estabelecem o formato das trajetórias dos <em>market shares</em>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div id="refs" class="references csl-bib-body" role="doc-bibliography">
<div id="ref-smallwood1979product" class="csl-entry" role="doc-biblioentry">
SMALLWOOD, D. E.; CONLISK, J. Product quality in markets where consumers are imperfectly informed. <strong>The Quarterly Journal of Economics</strong>, v. 93, n. 1, p. 1–23, 1979.
</div>
</div>
<!--radix_placeholder_article_footer-->
<div class="article-footer">
  <p class="social_footer">
    <span class="disqus-comments">
      <i class="fas fa-comments"></i>
      &nbsp;
      <span class="disqus-comment-count" data-disqus-identifier="posts/2021-02-10-infoimperf/">Comment on this article</span>
    </span>
    <span class="article-sharing">
      Share: &nbsp;
      <a href="https://twitter.com/share?text=Modelo%20-%20Informa%C3%A7%C3%B5es%20Imperfeitas%20para%20Consumidor&amp;url=https%3A%2F%2Frpmeira.github.io%2Fabmacro%2Fposts%2F2021-02-10-infoimperf%2F">
        <i class="fab fa-twitter"></i>
      </a>
      <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3A%2F%2Frpmeira.github.io%2Fabmacro%2Fposts%2F2021-02-10-infoimperf%2F&amp;title=Modelo%20-%20Informa%C3%A7%C3%B5es%20Imperfeitas%20para%20Consumidor">
        <i class="fab fa-linkedin"></i>
      </a>
      <a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Frpmeira.github.io%2Fabmacro%2Fposts%2F2021-02-10-infoimperf%2F">
        <i class="fab fa-facebook"></i>
      </a>
    </span>
  </p>
  <script id="dsq-count-scr" src="https://abmacro.disqus.com/count.js" async></script>
  <div id="disqus_thread" class="hidden"></div>
  <script>
var disqus_config = function () {
  this.page.url = 'https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/';
  this.page.identifier = 'posts/2021-02-10-infoimperf/';
};
(function() {
  var d = document, s = d.createElement('script');
  s.src = 'https://abmacro.disqus.com/embed.js';
  s.setAttribute('data-timestamp', +new Date());
  (d.head || d.body).appendChild(s);
})();
</script>
</div>
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
  <h3 id="references">References</h3>
  <div id="references-listing"></div>
  <h3 id="citation">Citation</h3>
  <p>For attribution, please cite this work as</p>
  <pre class="citation-appendix short">Peixoto (2021, Feb. 10). Macroeconomia Baseada em Agentes: Modelo - Informações Imperfeitas para Consumidor. Retrieved from https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/</pre>
  <p>BibTeX citation</p>
  <pre class="citation-appendix long">@misc{peixoto2021infoimperf,
  author = {Peixoto, Rafael},
  title = {Macroeconomia Baseada em Agentes: Modelo - Informações Imperfeitas para Consumidor},
  url = {https://rpmeira.github.io/abmacro/posts/2021-02-10-infoimperf/},
  year = {2021}
}</pre>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
  <footer>
    <p style="text-align: center; margin-top: 0em; margin-bottom: 0em;"><a href="https://www.linkedin.com/in/rafael-peixoto-75361b162/">Rafael Peixoto</a> | <a href="https://brmacro.netlify.app/">Graficos Macro</a></p>
    <p style="text-align: center; margin-top: 0em; margin-bottom: 0em;">
      <span style="color: #808080;">
        <em>peixoto.rafael@outlook.com</em>
      </span>
    </p>
  </footer>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>
